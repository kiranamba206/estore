{"version":3,"sources":["webpack://wp-hummingbird/./_src/js/global.js"],"names":["WPHBGlobal","init","this","registerClearPageCache","registerClearNetworkCache","registerClearCacheFromNotice","registerClearCloudflare","btn","document","querySelector","addEventListener","post","window","WPHB_Admin","SUI","openModal","location","href","getElementById","action","xhr","XMLHttpRequest","open","wphbGlobal","ajaxurl","onload","status","reload","send"],"mappings":"CAEA,WACC,aAEA,IAAMA,EAAa,CAClBC,KADkB,WAEjBC,KAAKC,yBACLD,KAAKE,4BACLF,KAAKG,+BACLH,KAAKI,2BAMNH,uBAXkB,WAWO,WAClBI,EAAMC,SAASC,cACpB,sCAGMF,GAIPA,EAAIG,iBAAkB,SAAS,kBAC9B,EAAKC,KAAM,8BAObP,0BA5BkB,WA6BjB,IAAMG,EAAMC,SAASC,cACpB,mDAGMF,GAIPA,EAAIG,iBAAkB,SAAS,gBACzB,IAAuBE,OAAOC,WAMnCD,OAAOE,IAAIC,UACV,aACA,SACA,kBARAH,OAAOI,SAASC,KACf,qEAeJZ,6BAvDkB,WAuDa,WACxBE,EAAMC,SAASU,eACpB,oCAGMX,GAIPA,EAAIG,iBAAkB,SAAS,kBAC9B,EAAKC,KAAM,+BASbL,wBA1EkB,WA0EQ,WACnBC,EAAMC,SAASC,cACpB,2CAGMF,GAIPA,EAAIG,iBAAkB,SAAS,kBAC9B,EAAKC,KAAM,mCAIbA,KAAM,SAAEQ,GACP,IAAMC,EAAM,IAAIC,eAChBD,EAAIE,KAAM,OAAQC,WAAWC,QAAU,WAAaL,GACpDC,EAAIK,OAAS,WACQ,MAAfL,EAAIM,QACRV,SAASW,UAGXP,EAAIQ,SAINpB,SAASE,iBAAkB,oBAAoB,WAC9CV,EAAWC,UAxGb","file":"wphb-global.min.js","sourcesContent":["/* global wphbGlobal */\n\n( function () {\n\t'use strict';\n\n\tconst WPHBGlobal = {\n\t\tinit() {\n\t\t\tthis.registerClearPageCache();\n\t\t\tthis.registerClearNetworkCache();\n\t\t\tthis.registerClearCacheFromNotice();\n\t\t\tthis.registerClearCloudflare();\n\t\t},\n\n\t\t/**\n\t\t * Clear page cache.\n\t\t */\n\t\tregisterClearPageCache() {\n\t\t\tconst btn = document.querySelector(\n\t\t\t\t'#wp-admin-bar-wphb-clear-cache > a'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () =>\n\t\t\t\tthis.post( 'wphb_front_clear_cache' )\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Clear network cache.\n\t\t */\n\t\tregisterClearNetworkCache() {\n\t\t\tconst btn = document.querySelector(\n\t\t\t\t'#wp-admin-bar-wphb-clear-cache-network-wide > a'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () => {\n\t\t\t\tif ( 'undefined' === typeof window.WPHB_Admin ) {\n\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t'/wp-admin/network/admin.php?page=wphb-caching&update=open-ccnw';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twindow.SUI.openModal(\n\t\t\t\t\t'ccnw-modal',\n\t\t\t\t\t'wpbody',\n\t\t\t\t\t'ccnw-clear-now'\n\t\t\t\t);\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Clear cache from notice regarding plugin/theme updates.\n\t\t */\n\t\tregisterClearCacheFromNotice() {\n\t\t\tconst btn = document.getElementById(\n\t\t\t\t'wp-admin-notice-wphb-clear-cache'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () =>\n\t\t\t\tthis.post( 'wphb_global_clear_cache' )\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Clear Cloudflare browser cache.\n\t\t *\n\t\t * @since 2.7.2\n\t\t */\n\t\tregisterClearCloudflare() {\n\t\t\tconst btn = document.querySelector(\n\t\t\t\t'#wp-admin-bar-wphb-clear-cloudflare > a'\n\t\t\t);\n\n\t\t\tif ( ! btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.addEventListener( 'click', () =>\n\t\t\t\tthis.post( 'wphb_front_clear_cloudflare' )\n\t\t\t);\n\t\t},\n\n\t\tpost: ( action ) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open( 'POST', wphbGlobal.ajaxurl + '?action=' + action );\n\t\t\txhr.onload = function () {\n\t\t\t\tif ( xhr.status === 200 ) {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send();\n\t\t},\n\t};\n\n\tdocument.addEventListener( 'DOMContentLoaded', function () {\n\t\tWPHBGlobal.init();\n\t} );\n} )();\n"],"sourceRoot":""}